<app-title title="Search"></app-title>

<app-time-series (outputLoadStockPrices)="onOutputLoadStockPrices($event)"></app-time-series>
<div *ngIf="stockPrices">
    <clr-datagrid>
        <clr-dg-column>
            <clr-icon shape="calendar"></clr-icon>
            Date
        </clr-dg-column>
        <clr-dg-column>
            <clr-icon shape="folder-open"></clr-icon>
            Open
        </clr-dg-column>
        <clr-dg-column>
            <clr-icon shape="arrow"></clr-icon>
            High
        </clr-dg-column>
        <clr-dg-column>
            <clr-icon shape="arrow down"></clr-icon>
            Low
        </clr-dg-column>
        <clr-dg-column>
            <clr-icon shape="window-close"></clr-icon>
            Close
        </clr-dg-column>
        <clr-dg-column>
            <clr-icon shape="volume"></clr-icon>
            Volume
        </clr-dg-column>
        <clr-dg-row *clrDgItems="let sp of stockPrices" [clrDgItem]="sp">
            <clr-dg-cell>{{sp.date | date:'short'}}</clr-dg-cell>
            <clr-dg-cell>{{sp.open | number}}</clr-dg-cell>
            <clr-dg-cell>{{sp.high | number}}</clr-dg-cell>
            <clr-dg-cell>{{sp.low | number}}</clr-dg-cell>
            <clr-dg-cell>{{sp.close | number}}</clr-dg-cell>
            <clr-dg-cell>{{sp.volume | number}}</clr-dg-cell>
        </clr-dg-row>
        <clr-dg-footer>
            <clr-dg-pagination #pagination [clrDgPageSize]="10">
                <clr-dg-page-size [clrPageSizeOptions]="[10,20,50,100]">Prices per page</clr-dg-page-size>
                {{pagination.firstItem + 1}} - {{pagination.lastItem + 1}}
                of {{pagination.totalItems}} prices
            </clr-dg-pagination>
        </clr-dg-footer>
    </clr-datagrid>
</div>